<!DOCTYPE html>
<html lang="en">
<head>
    <title>R P S</title>
</head>
<body>
    <!-- let age= 10;
    if(age> 16){
        console.log('u can drive');
    }else{
        console.log('u cant drive');
    } -->
        
    <p>Rock Paper Scissors</p>
    <button onclick="
         playGame('rock');
    " >Rock</button>

    <button onclick="
       playGame('paper');
    ">Paper</button>

    <button onclick="
        playGame('scissors')
    " >Scissors</button>

    <p class="js-res"></p>
    <p class="js-move"></p>
    <p class="js-score"></p>

        <button onclick="
        score.wins=score.loses=score.ties=0;
        localStorage.removeItem(score);
        updateScore();
        //reset teh score
        "
        >Reset Score</button>
    <script>
        //if reset is done, then score will point to null
         let score=
         JSON.parse(localStorage.getItem('score')) ||
         {
            wins: 0,
            loses: 0,
            ties: 0
         };

        //  if(!score){
        //     score= {
        //         wins: 0,
        //         loses: 0,
        //         ties: 0
        //     };
        //  } done by default operaor ||
        
        //global variable!!!! if defined outside scope

      updateScore();

       function chooseMove() {
            let compMove= '';
            const randNum= Math.random();
                if(randNum>= 0 && randNum<1/3){ 
                    compMove= 'rock'; 
                }else if(randNum>=1/3 && randNum<2/3){
                    compMove= 'paper';
                }else if(randNum>=2/3 && randNum<1){
                    compMove= 'scissors';   
                }
            return compMove;
       }

       function updateScore(){
        document.querySelector('.js-score').innerHTML= ` Wins: ${score.wins}, Loses:${score.loses}, Ties: ${score.ties}`;
       }

       function playGame(playerMove){
            const compMove= chooseMove();
            let result='';

            if(playerMove==='scissors'){
                if(compMove==='scissors'){
                result='Tie';
            }else if(compMove==='rock'){
                result= ' YOU lose';
            }else if(compMove==='paper'){
                result=' YOU win';
            }
        }
        
            else if(playerMove==='paper'){
                if(compMove==='paper'){
                result='Tie';
            }else if(compMove==='scissors'){
                result= ' YOU lose';
            }else if(compMove==='rock'){
                result=' YOU win';
            }
        }
        
        else if(playerMove==='rock'){    
            if(compMove==='rock'){
                result='Tie';
            }else if(compMove==='paper'){
                result= ' YOU lose';
            }else if(compMove==='scissors'){
                result=' YOU win';
            }
        }

        
        if(result===' YOU win'){
            score.wins+=1;
        }
        else if(result===' YOU lose'){
            score.loses+=1;
        }
        else if(result==='Tie'){
            score.ties+=1;
        }

        localStorage.setItem('score', JSON.stringify(score)); //only string and messge is the name to fetcht he items baad me

       updateScore();

        document.querySelector('.js-res').innerHTML= result;
        document.querySelector('.js-move').innerHTML= `You ${playerMove}-${compMove} Computer`;
      
       }
    </script>
</body>
</html> 